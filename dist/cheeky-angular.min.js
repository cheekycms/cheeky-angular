!function(window,angular){"use strict";angular.module("cheeky",["angular-cache"]),angular.module("cheeky").directive("cheekyContent",function(cheekyContentService){return{restrict:"EA",scope:{path:"@"},link:function(scope,element,attrs){var path=scope.path||attrs.cheekyContent;cheekyContentService.fetch(path).then(function(data){element.html(data)})}}}),angular.module("cheeky").factory("cheekyContentService",function($q,$http,CacheFactory){function fetch(path){var deferred=$q.defer(),parts=path.split("."),ns=parts[0],cp=parts.slice(1).join(".");return _fetch(ns).then(function(cache){deferred.resolve(_.get(cache,cp))}),deferred.promise}function warmup(ns){_fetch(ns)}function _fetch(ns){var deferred=$q.defer();return $http.get(map[ns],{cache:CacheFactory.get(CACHE_KEY)}).success(function(data){deferred.resolve(data)}),deferred.promise}var CACHE_KEY="cheeky",CACHE_LIFETIME=9e5,STORAGE_MODE="localStorage",map={content:"content.json",crumpet:"crumpet.json"};return CacheFactory(CACHE_KEY,{maxAge:CACHE_LIFETIME,storageMode:STORAGE_MODE}),{fetch:fetch,warmup:warmup}})}(window,angular);
//# sourceMappingURL=../dist/cheeky-angular.min.js.map